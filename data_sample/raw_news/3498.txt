WASHINGTON ― Having failed to get Mexico and then Congress to pay for his promised “great wall” along the southern border, President Donald Trump’s White House nevertheless described 33 miles of levees and fencing in a new spending bill as a substantial victory Thursday.

Trump and his staff had been trying to carve out $25 billion in U.S. taxpayer money in the appropriations package for the budget year that ends Sept. 30, even though Trump had promised hundreds of times during his campaign in 2015 and 2016 that Mexico would pay for the wall’s construction.

“Generally speaking, we think this is a really, really good immigration package,” budget director Mick Mulvaney said Thursday while acknowledging that Trump was unable to get anywhere near what is needed to build a wall along the border, which is nearly 2,000 miles. “If Congress would give us the money to do it, we would do it now.”

Some of Trump’s political advisers, though, see wall construction as critical to Trump’s survival. He promised a wall along the Mexican border so many times over the course of his presidential campaign that failing to deliver would be disastrous ― in the November midterms and then in his presidential re-election campaign.

Although his base has been patient so far, the thinking goes, that could evaporate instantly if Trump signs the $1.3 trillion spending bill that does not make good on the wall promise. The Senate faces a midnight Friday deadline to pass the bill, which cleared the House on Thursday.

“You could key yourself up to lose 50 seats if you fuck around with this thing,” one Republican close to Trump said on the condition of anonymity. “He ought to shut down the government if he doesn’t get the money to start building the wall,” the Republican added.

At a White House press briefing, Mulvaney assured that Trump would not be doing that. “Let’s cut right to the chase: Is the president going to sign the bill? The answer is yes,” he said.

Mulvaney blamed Senate rules that require 60 votes to move most legislation ― including appropriations bills ― to a final vote. This allows Democrats to extract “their pound of flesh” in the spending package, he said.

“We don’t control all of the government,” Mulvaney said, even though Republicans hold the White House and control both chambers of Congress. “We do not control the Senate, under the current rules. Therefore we have to give the Democrats something.”

Yet, in this case, Trump was unable to get the wall money he wanted because he was unwilling to give Democrats what he has claimed he also wants: a permanent answer for the undocumented immigrants who were brought to this country as children, often called the Dreamers.

Trump tried to end protection from deportation for nearly 700,000 of those immigrants by rescinding the Deferred Action for Childhood Arrivals program in September. Two courts temporarily have blocked Trump and forced him to reopen the program to current applicants, who can continue to renew their two-year work permits and deportation relief.

Trump has nonetheless insisted since he ended DACA that he is the champion of DACA recipients and that it is the Democrats who do not care about them.

“Democrats refused to take care of DACA,” Trump tweeted Friday evening. “Would have been so easy, but they just didn’t care.”

White House legislative affairs director Michael Short said Trump offered Democrats three years of wall funding for three years of DACA protections but that Democrats rejected it. Short said the White House was willing to negotiate but Democrats were not.

“The Democrats in the House and the Senate have made it clear they think they’re winning in the courts and they do not want to fix this legislatively,” Mulvaney said.

But Democrats point out that they offered to support the full $25 billion to build Trump’s wall in exchange for a path to citizenship for Dreamers. The White House rejected that offer, said Matt House, a spokesman for Senate Minority Leader Chuck Schumer (D-N.Y.).

Outside of the recent spending bill negotiations, Democrats have also proposed a number of bills to protect DACA recipients and other Dreamers, some of them with Republican support. They argue any solution should be permanent ― not renewable permits but a path to citizenship.

The White House worked to sink two of those bipartisan proposals in February while pushing its preferred plan to give a path to citizenship for Dreamers in exchange for wall funding, cuts to legal immigration and changes in asylum policies. That plan received only 39 votes on the Senate floor last month, while one of the bipartisan measures his administration successfully undermined had received 54 votes.

The failure to resolve DACA, however, has left Trump unable to deliver on one of his signature campaign promises.

President Donald Trump inspects border wall prototypes in San Diego on March 13. MANDEL NGAN/AFP via Getty Images

Trump promised from the day he began his campaign in June 2015 that he would build a “great wall” to end illegal immigration from Mexico.

“I would build a great wall, and nobody builds walls better than me, believe me, and I’ll build them very inexpensively,” Trump said in his Trump Tower announcement. “I will build a great, great wall on our southern border. And I will have Mexico pay for that wall. Mark my words.”

Over the coming 17 months, Trump promised many hundreds of times that he would build the wall quickly and at no cost to U.S. taxpayers. Trump said that his wall would be at least 30 feet tall and extend deep underground to prevent people from tunneling beneath it. At a December 2015 visit to Manassas, Virginia, Trump even went into construction details.

“It’s going to be made of hardened concrete, and it’s going to be made out of rebar. That’s steel,” Trump said to a question from a young boy in the audience. “And we’re going to set [the rebar] in nice, heavy foundations.”

But having Mexico pay for a wall that country does not at all support has proved unrealistic. A planned meeting between Trump and Mexican President Enrique Peña Nieto was recently canceled because Peña Nieto would not back away from his refusal to pay.

In the new “omnibus” spending bill, a grand total of 33 miles of the border between Mexico and the United States that is currently unsecured will get fencing, with 25 miles of that going atop new levees along the Rio Grande. A total of 14 miles of modern “wall,” such as the examples Trump recently visited in San Diego, will be built, Mulvaney said, but it will be on the U.S. side of an existing barrier in Southern California. In all, $1.6 billion was appropriated for border security enhancements, of which only $641 million are for the new fencing.

“We want the whole wall funded. You’ve heard the president say he wants $25 billion to finish the wall,” Mulvaney said. “Congress will not give us that without a DACA fix.”