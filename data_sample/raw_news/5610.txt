DACA recipients and their supporters call for renewal of the program outside Disneyland in Anaheim, California, on Jan. 22, 2018. Lucy Nicholson / Reuters

A second federal judge has blocked President Donald Trump’s decision to cancel the Deferred Action for Childhood Arrivals program, dealing another blow to the president’s efforts to end protections for nearly 700,000 undocumented young people who came to the U.S. as children.

The nationwide preliminary injunction issued Tuesday by U.S. District Judge Nicholas Garaufis in Brooklyn mirrors a separate ruling handed down last month in California. Because the cancellation of DACA has already been halted, Garaufis’ order won’t have any immediate effect on Dreamers.

But the second injunction marks a win for Trump’s opponents, who have used the courts to defend DACA, even as the White House has sought to use the March 5 deadline set by the president as leverage to win concessions on border security from Democrats in Congress.

It could also complicate Trump’s own efforts in the courts. His administration has asked the Supreme Court to take the unusual step of overturning the first injunction, issued by U.S. District Judge William Alsup, now instead of letting it go through the normal appeals process.

The Supreme Court could decide as soon as Friday whether it will hear the administration’s request ― unless the new injunction delays that process. As of Tuesday, the justices were only scheduled to consider a request to overturn the injunction in the consolidated case out of California, according to Karen Tumlin, legal director for the National Immigration Law Center, one of the groups suing the administration over DACA.

Trump declared he would rescind DACA in September, claiming it was unconstitutional. The White House aimed to terminate the program in phases, allowing recipients whose work permits and deportation protections would expire by March 5 to apply for renewal during a four-week window, but barring all new applicants. The plan was that Dreamers whose permits were set to expire after March 5 would be unable to apply for renewal, creating that deadline for Congress to act before an estimated 1,000 people per day began losing protections.

Under the injunctions, however, those who have been approved for DACA are eligible to keep renewing it until the courts decide otherwise.

Because President Barack Obama created the program by executive action, Trump has the authority to scrap it. But the consolidated New York lawsuit ― which combines a case originally filed on behalf of DACA recipient Martín Jonathan Batalla Vidal with a suit filed by attorneys general from 15 Democratic-led states and the District of Columbia ― argues that the administration violated DACA recipients’ due process rights and the terms of the Administrative Procedure Act when changing the policy. The APA requires federal officials to offer a reasonable justification before changing a major policy.

The Trump administration’s claim that the program is unconstitutional isn’t likely to stand up in court, according to Garaufis’ order. Trump’s decision to end DACA appears instead to be “arbitrary and capricious” and “an abuse of discretion,” the judge wrote.

“The question before the court is thus not whether Defendants could end the DACA program, but whether they offered legally adequate reasons for doing so,” the order says. “Based on its review of the record before it, the court concludes that Defendants have not done so.”

In a statement, Justice Department spokesman Devin O’Malley responded, “Today’s order doesn’t change the Department of Justice’s position on the facts: DACA was implemented unilaterally after Congress declined to extend these benefits to this same group of illegal aliens.”

The judge did not weigh in on the plaintiffs’ argument that Trump violated the Constitution by discriminating against DACA recipients based on animus toward Latinos. Nearly 80 percent of DACA recipients are originally from Mexico, a country the president has accused of sending rapists and other criminals into the U.S.

These injunctions are just a stop-gap solution for DACA recipients. Although they can still apply for renewal, it can take months for permits to be reviewed and approved, and many people’s protections are likely to lapse in the meantime. And, of course, the Trump administration is fighting to overturn the rulings and go back to rejecting applicants.