A Kansas federal judge ruled Wednesday that Kansas Secretary of State Kris Kobach (R) was in contempt of court for failing to follow her order to register voters who had signed up to vote at the DMV but had failed to present proof of citizenship.

U.S. District Judge Julie Robinson said Kobach had failed to comply with a 2016 preliminary injunction that blocked a Kansas law requiring people to provide proof of citizenship when they register to vote. The decision affected roughly 18,000 people whose registrations were being held up, and Robinson told Kobach to make sure those voters were fully registered. Kobach assured her that he would and that he would send out postcards to any affected voter.

Kansans usually get a postcard before an election informing them of their polling place, and those who didn’t get them before an election would likely have been confused, the plaintiffs said at the trial.

More than a year and a half later, the American Civil Liberties Union, which is representing the voters who challenged the Kansas law, filed a motion to hold Kobach in contempt, saying he had failed to send out the postcards and update the county election manual to reflect Robinson’s 2016 order. In a contentious hearing, Kobach said his office had orally instructed county clerks to send out the postcards but could not force them to do anything. Robinson was furious, saying that Kobach had assured her in court that he would send out the postcards.

Robinson imposed sanctions on Kobach on Wednesday, saying he had to pay the ACLU for attorney fees and that “any further remedial measures” would be decided when she ruled on the merits of the case.

The plaintiffs, a handful of eligible voters unable to get on the rolls, argue that the Kansas law, which went into effect in 2013, violates a 1993 federal law called the National Voter Registration Act. The federal law requires state motor vehicle agencies to offer people the chance to register to vote and only allows them to ask for the minimum amount of information necessary to do so. Robinson’s 2016 preliminary injunction put the law on hold and she oversaw a bench trial in the case in March. A final ruling is expected later this year.

“Secretary Kobach likes to talk about the rule of law. Talk is cheap, and his actions speak louder than his words.” - Dale Ho, the ACLU’s top voting rights lawyer.

Kobach defends the law as necessary to prevent noncitizens from voting in the state, but he has produced just 129 instances in which noncitizens attempted to vote in Kansas. The ACLU says the law is extremely restrictive and unnecessary.

“The Secretary of State’s Office will be appealing this decision,” said a Kobach spokesperson after the contempt ruling. “Secretary Kobach has no additional comment at this time.”

Robinson’s Wednesday order was scathing, and was particularly directed to Kobach, who made the unusual choice to represent his own office at the trial. She said that Kobach, who is running for governor of Kansas, had made disingenuous arguments to the court and suggested that her 2016 order was dynamic and not law. She also said Kobach had a history of “noncompliance” and “disrespect” for the court in the case. Kobach, who ran President Donald Trump’s voter fraud commission until it was disbanded in January, was fined $1,000 for making misleading statements to the court in the case last year.

“The judge found that Kris Kobach disobeyed the court’s orders by failing to provide registered voters with consistent information, that he willfully failed to ensure that county elections officials were properly trained, and that he has a ‘history of noncompliance and disrespect for the court’s decisions,’” Dale Ho, the ACLU’s top voting rights lawyer, who faced off against Kobach in court during the trial, said in a statement. “Secretary Kobach likes to talk about the rule of law. Talk is cheap, and his actions speak louder than his words.

Kris Kobach arrives at the initial meeting of the Presidential Advisory Commission on Election Integrity on July 19, 2017. It was subsequently disbanded. Bloomberg via Getty Images

Bryan Caskey, the state director of elections and a staffer in Kobach’s office, recently filed an affidavit in the case saying that he had instructed county election officials to send out the postcards and had orally done so before trial. Robinson said that was “too little, too late” to avoid a contempt finding. She noted that Kobach had maintained until the trial that he wasn’t obligated to send out the postcards. She said she didn’t find it credible that his staffer had orally instructed counties to send out the postcards before the trial.

Robinson also took Kobach to task for suggesting at the trial that it wasn’t his fault that his office didn’t ensure the postcards were sent out. She noted that he was the chief election official in the state and it was his responsibility to follow through on the orders of the court.

Kobach had said he complied with the court order because he sent out a separate notice from the court to the 18,000 affected voters ahead of the 2016 election informing them they could vote.

Robinson also criticized Kobach for failing to update the county’s election manual to reflect the fact that people applying to vote at the DMV don’t have to prove their citizenship. Caskey testified he was “too busy” to update the document in 2016 and Kobach’s office recently took it offline.