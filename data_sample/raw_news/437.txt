House GOP leaders Paul Ryan and Kevin McCarthy at the Capitol on May 16. With Democratic opposition to the current farm bill, they are navigating vying Republican factions to get it passed. Bill Clark via Getty Images

WASHINGTON ― With GOP support for a farm bill wavering among moderates and conservatives, Republican leaders are facing a dilemma that may force them into a deal this week to at least temporarily kill a discharge petition on immigration ― or not.

House Freedom Caucus leaders emerged Tuesday night with a plan for more than a dozen members to withhold support for the farm bill until leaders agreed to vote on the so-called Goodlatte bill, a hawkish immigration measure authored by Bob Goodlatte (R-Va.), the chairman of the judiciary committee. Republican immigration advocates are using the Goodlatte bill as a vehicle to get a vote on a plan addressing the Deferred Action on Childhood Arrivals immigration program that Democrats would support.

But members of the Freedom Caucus, seeing how close the chamber is to getting a vote on a Democratic-preferred DACA measure, is using their leverage on the farm bill to secure a vote on the Goodlatte bill to, in their minds, effectively kill the DACA discharge petition and reset the clock on when GOP moderates and Democrats could get a vote on the issue. The problem with this plan is that it isn’t clear whether voting on Goodlatte would kill the discharge petition.

Discharge petitions are used to bypass leadership decisions on which bills get a vote and can bring a bill to the floor with a minimum of 218 signatures. The current discharge petition is on a rule that would bring up Goodlatte and a number of other immigration proposals. Although conservatives in the Freedom Caucus think dispensing with Goodlatte would render the rule moot, it’s possible that the Republicans and Democrats who support the discharge petition could change the rule.

The uncertainty over the gambit is adding to the shakiness of the farm bill, as well as the Goodlatte bill, but GOP leaders say they would like to avoid all these complications by voting on the Goodlatte proposal only if it has the votes to pass.

The problem with that idea is that its author has shown little willingness to alter the legislation to make it more palatable to his fellow Republicans, and there may be a key number of Republicans who would side with Democrats for a solution for immigrants affected by DACA.

These issues would normally be separate from the farm bill, which reauthorizes certain farm subsidies for five years and provides money for food stamps, but the Freedom Caucus wants to use the weak support for the farm bill as leverage.

“GOP aides said the clearest path to victory on the farm bill may be to just give conservatives what they want.”

Nearly all Democrats intend to vote against the farm bill, and that, coupled with at least a dozen moderate Republicans signaling strong opposition to the bill and at least another dozen conservatives who understand the power they have to extract an immigration concession, means Republicans just don’t have the votes. And because moderates look far more immovable than conservatives on the farm bill, the GOP leadership is forced to deal with the representatives whose votes can be bought.

Some Republicans from New Jersey and New York and possibly some from Pennsylvania look poised to vote against the farm bill when it’s supposed to come up for a vote on Friday, no matter what, and a smattering of other members could have problems too, particularly if the right ― or wrong ― amendments are adopted or rejected.

That means GOP leaders don’t have the votes to pass the bill if more than a dozen conservatives oppose the legislation. And with leadership stating its preference to avoid the discharge petition anyway, GOP aides said the clearest path to victory on the farm bill may be to just give conservatives what they want ― only that may change if the gambit to kill the discharge petition wouldn’t work anyway.

What conservatives ultimately want is still up in the air. Freedom Caucus Chairman Mark Meadows (R-N.C.) told reporters Tuesday night that he wanted a vote on the Goodlatte bill to happen concurrently with the farm bill so that leaders couldn’t go back on their word, but he also said he could give GOP leaders some leeway if they promised to hold a vote, say, next week.

Of course, that was when Meadows was under the belief that voting on Goodlatte would at least delay the discharge petition. Now conservatives may regroup and think of a different ask. But even if Republicans reach a deal among themselves, they may still have problems passing the farm bill. There are still a significant number of moderates opposing the bill, and there are likely a few conservatives who will vote “no” regardless of whether leadership cuts a deal, particularly if there’s no feasible agreement on immigration.

Passage could come down to how many Democrats support the bill, and not many are expected to vote “yes.”

Another potential issue concerns the Republicans who support the discharge petition. On Wednesday, those Republicans seemed to be caught flat-footed by the Freedom Caucus’ gambit. Ileana Ros-Lehtinen (R-Fla.), who told HuffPost she is voting against the farm bill, said she hadn’t heard anything about conservatives trying to kill the discharge petition. And Mario Diaz-Balart, another pro-immigration Republican from Florida, said he was concentrating on appropriations (though he said he supported the farm bill).

GOP moderates could still band together to oppose the farm bill if their leadership worked out some mechanism to give conservatives what they want by somehow killing the discharge petition, but there seems to be no organized effort to do that at the moment.

Republicans have acknowledged that passing the farm bill with only GOP votes would be difficult, but they now find themselves negotiating against different factions of the conference.

The farm bill combines welfare for farmers and the much bigger Supplemental Nutrition Assistance Program, which is commonly known as food stamps and is one of the federal government’s biggest anti-poverty programs. It helps 40 million Americans buy food every month.

Most Republicans in Congress think there are too many people on the program who should be working instead, and House Speaker Paul Ryan (R-Wis.) has said reforming SNAP would make it easier for employers to fill available jobs.

The bill would expand a SNAP work requirement ― which currently applies to recipients ages 18 to 49 who don’t have minor children or disabilities ― to people in their 50s and parents of minors older than 6. There would be several exemptions, but generally, the requirement would be to work 20 hours a week or spend that amount of time in an approved activity, such as enrollment in a government training program that the legislation would create.

The Congressional Budget Office has estimated that the expanded work requirement would reduce enrollment by an additional 1.2 million people in 2028. With no policy change, the office expects enrollment to decline by 8 million by then because of the improving economy. But some moderates ― and almost all Democrats ― see those changes as an assault on food stamps.

There’s also a significant battle brewing over sugar subsidies in the farm bill. Some members from areas where sugar is grown want higher prices, while companies using it to make products like candy and soda want cheaper sugar.