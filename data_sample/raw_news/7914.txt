A federal judge in California ordered the Trump administration on Tuesday to keep in place the Deferred Action for Childhood Arrivals program, which protects undocumented immigrants who entered the country as children from deportation and allows them to work legally, while a lawsuit proceeds.

The order, signed by U.S. District Judge Williams Alsup, marks a major triumph for immigrant rights groups who have rallied around the program that benefits nearly 700,000 people.

The preliminary injunction on Trump’s cancellation of DACA requires the Department of Homeland Security “to maintain the DACA program on a nationwide basis on the same terms and conditions as were in effect before the rescission on September 5, 2017” ― including allowing those who already benefit from DACA to apply to renew their status.

The order does not, however, allow people who have never held DACA protections to apply as new applicants.

“Dreamers’ lives were thrown into chaos when the Trump administration tried to terminate the DACA program without obeying the law,” California Attorney General Xavier Becerra (D) said in a statement. “Today’s ruling is a huge step in the right direction.

The Trump administration “looks forward to vindicating its position in further litigation,” Justice Department spokesman Devin O’Malley said in a statement.

“Tonight’s order doesn’t change the Department of Justice’s position on the facts,” the statement said. “DACA was implemented unilaterally after Congress declined to extend these benefits to this same group of illegal aliens.”

The White House on Wednesday called the judge’s ruling “outrageous,” and Trump, in a tweet, blasted the “court system” as “broken and unfair.”

It just shows everyone how broken and unfair our Court System is when the opposing side in a case (such as DACA) always runs to the 9th Circuit and almost always wins before being reversed by higher courts. — Donald J. Trump (@realDonaldTrump) January 10, 2018

“An issue of this magnitude must go through the normal legislative process,” White House press secretary Sarah Huckabee Sanders said in a statement. “President Trump is committed to the rule of law, and will work with members of both parties to reach a permanent solution that corrects the unconstitutional actions taken by the last administration.”

Before the order, the program was scheduled to begin phasing out on March 5.

Alsup is presiding over five lawsuits challenging the legality of Trump’s termination of DACA that were consolidated into one in the Northern District of California. The state of California, the Regents of the University of California, the city of San José and several DACA recipients are among those suing in an attempt to preserve the program.

The lawsuits argue that the White House flouted the process for terminating the program in violation of the Administrative Procedure Act and that the cancellation was based on flawed legal logic.

The Obama administration used executive action to create the DACA program in 2012, allowing undocumented immigrants who arrived as children or young teenagers to apply to work legally in the country and avoid deportation for a renewable two-year period.

The Trump administration announced in September, however, that it would cancel the program, citing a threat from a coalition of 10 states, led by Texas, to challenge the program’s constitutionality.

Demonstrators chant during a rally against the rescission of the Deferred Action for Childhood Arrivals program at the San Francisco Federal Building on Sept. 5. Stephen Lam / Reuters