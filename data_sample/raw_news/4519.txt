Billionaire Carl Icahn, President Donald Trump’s longtime friend and former special adviser, sold $31.3 million in shares of a steel-related company just before Trump announced tariffs on imported steel and aluminum.

Icahn unloaded nearly 1 million shares in crane manufacturer Manitowoc Co. of Wisconsin from Feb. 12 to Feb. 23, according to a filing with the Securities and Exchange Commission first reported by the website Think Progress. Manitowoc relies on steel, and shares in the company fell after Trump announced on Thursday that he plans to impose a 25 percent tariff on steel. The Commerce Department’s report recommending the tariffs was made public Feb. 16.

Icahn told CNBC Thursday that he hadn’t had “much interaction” with Trump in the “past four or five months,” and had no special knowledge of what Trump planned to do or when. But the CNBC question concerned his opinion about market effect, not whether he had any privileged information. Stock trades based on insider information not available to the public are illegal.

Icahn’s selloff represented about one-third of his stake in the company, according to CNBC. Last month’s selloff was his first trading in the company’s shares since January 2015, The Washington Post reported.

Icahn’s stocks sold for between $32 and $34 a share. The shares were worth $26.93 when the market closed Friday.

Icahn quit his informal White House role as adviser on regulatory reform in August, shortly before The New Yorker reported he had been pushing to overturn an environmental regulation promoting biofuels and renewable energy that was costing him millions through his stake in oil refiner CVR.

He said in his resignation letter that he “never had access to nonpublic information or profited from my position.” He said he “only expressed views that I believed would benefit the refining industry as a whole,” and that he was quitting out of an “abundance of caution.”