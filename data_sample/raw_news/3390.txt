The man who killed at least three people Friday in the course of a multi-city rampage in southern France was himself killed following an hours-long standoff with police at a grocery store, France’s Interior Minister Gérard Collomb confirmed.

The incident, which French President Emmanuel Macron characterized as a terrorist attack, began around 10:00 a.m., according to French Interior Minister Gérard Collomb. The suspect, Redouane Lakdim, a 26-year-old of Moroccan origin, stole a car in the town of Carcassonne, gravely injuring the driver and killing the passenger, Collbomb said during a press conference. He added that Lakdim then trailed and shot at four local police officers, injuring one in the shoulder.

Following the initial two altercations, Lakdim drove to the Super U supermarket in Trèbes, a nearby town, and took several people hostage, killing two, Collomb said. Authorities helped free some of the remaining hostages ― one police officer even offered himself to the suspect in exchange for a woman being held hostage ― and then spent about three hours inside the supermarket with the suspect.

The suspect’s profile, Collomb said, didn’t fit the bill of those who have committed attacks in France in the past. He was under surveillance and known to authorities for petty crimes, but wasn’t thought to have been radicalized.

Several eyewitness reports claimed the suspect said he was acting on behalf of the self-described Islamic State.

After reports of the perpetrator’s death, ISIS took credit for the attack on social media. Later on Friday, authorities announced they arrested one person in connection to the attack.

“A man shouted and fired several rounds of shots,” an anonymous eyewitness told France Info. “I saw a refrigerator door and asked people to come take shelter inside. Ten of us stayed in there for one hour. Amid more gunshots we finally left through a back door.”

In a press conference Friday alongside German Chancellor Angela Merkel, Macron refused to give any death toll, saying that the situation remained active.

France has seen a number of major terror attacks in recent years, and the country is still under a state of emergency following the November 2015 Paris attacks in which ISIS supporters killed 130 people and wounded hundreds of others at a stadium, restaurants and the Bataclan concert hall. Earlier that year, al Qaeda-linked gunmen also attacked satirical magazine Charlie Hebdo and took hostages at a Kosher supermarket in Paris.

Subsequent terrorist incidents in the country include a truck attack in the city of Nice, which killed 86 people when a driver plowed into a crowd celebrating Bastille Day. Terrorism was a prominent campaign topic in France’s 2017 presidential election, and since then major terror attacks in the country appeared to be on the decline.

Nick Robins-Early contributed to this report.